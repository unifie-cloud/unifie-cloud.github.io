"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3747],{5504:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var t=n(4848),a=n(8453);const i={},r="HELM Chart",c={id:"User-Guide/Unifie-Service-Types/HELM/index",title:"HELM Chart",description:"- Service based on helm chart (in case if you want to deploy software from ready made helm chart)",source:"@site/docs/02-User-Guide/02-Unifie-Service-Types/HELM/index.md",sourceDirName:"02-User-Guide/02-Unifie-Service-Types/HELM",slug:"/User-Guide/Unifie-Service-Types/HELM/",permalink:"/doc/home/User-Guide/Unifie-Service-Types/HELM/",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Docker",permalink:"/doc/home/User-Guide/Unifie-Service-Types/Docker/"},next:{title:"Kubernetes yaml",permalink:"/doc/home/User-Guide/Unifie-Service-Types/k8s-yaml/"}},o={},d=[{value:"Example for postgresql helm chart",id:"example-for-postgresql-helm-chart",level:2},{value:"Check connection",id:"check-connection",level:2}];function l(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"helm-chart",children:"HELM Chart"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Service based on helm chart ",(0,t.jsx)(s.em,{children:"(in case if you want to deploy software from ready made helm chart)"})]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Service based on helm chart",src:n(9211).A+"",width:"1919",height:"841"})}),"\n",(0,t.jsx)(s.h2,{id:"example-for-postgresql-helm-chart",children:"Example for postgresql helm chart"}),"\n",(0,t.jsxs)(s.p,{children:["Let`s try to deploy ",(0,t.jsx)(s.a,{href:"https://artifacthub.io/packages/helm/bitnami/postgresql?modal=install",children:"postgresql helm chart"})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Example for postgresql helm chart",src:n(3342).A+"",width:"1914",height:"952"})}),"\n",(0,t.jsxs)(s.p,{children:["Click to button ",(0,t.jsx)(s.code,{children:"Save & Re-fetch helm chart"})," to load helm chart into unifie. It will load helm chart files and dependencies to unifie backend."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"postgresql-helm-chart2",src:n(6039).A+"",width:"1382",height:"660"})}),"\n",(0,t.jsxs)(s.p,{children:["If step was done - go to ",(0,t.jsx)(s.code,{children:"Variables"})," tab. Unifie will parse ",(0,t.jsx)(s.code,{children:"values.yaml"})," file and build UI that allow to redefine variables names."]}),"\n",(0,t.jsxs)(s.p,{children:["Read more about ",(0,t.jsx)(s.a,{href:"https://www.unifie.cloud/doc/docs/User-Guide/Variables/",children:"variables"}),"."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"postgresql-vars",src:n(9716).A+"",width:"1914",height:"755"})}),"\n",(0,t.jsxs)(s.p,{children:["Let's change value for password, username and database variables.\nOften you can find documentation to the chart variables in chart repo readme or ",(0,t.jsx)(s.code,{children:"values.yaml"})," file"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"password-into",src:n(843).A+"",width:"1712",height:"553"})}),"\n",(0,t.jsxs)(s.p,{children:["If we will set ",(0,t.jsx)(s.code,{children:"Value source"})," as ",(0,t.jsx)(s.code,{children:"Application configuration UI"})," than will be possible to set different password for deployment"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"passwod ui",src:n(211).A+"",width:"1913",height:"464"})}),"\n",(0,t.jsxs)(s.p,{children:["Tern on service. After pod is run we can ",(0,t.jsx)(s.a,{href:"https://www.unifie.cloud/doc/docs/User-Guide/Diagnostic/Pods-logs/",children:"check logs in diagnostic section"})]}),"\n",(0,t.jsx)(s.h2,{id:"check-connection",children:"Check connection"}),"\n",(0,t.jsx)(s.p,{children:"Due security reasons, by default Postgresql are not expose own port to connection outside cluster network."}),"\n",(0,t.jsxs)(s.p,{children:["Simplest way to connect to our new Postgresql database - use ",(0,t.jsx)(s.code,{children:"kubectl port-forward"})," command."]}),"\n",(0,t.jsxs)(s.p,{children:["In diagnostic namespace tab we can see the namespace name with application.\n",(0,t.jsx)(s.img,{alt:"namespace",src:n(880).A+"",width:"1448",height:"340"})]}),"\n",(0,t.jsx)(s.p,{children:"Use to get a pod list:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"kubectl get pod -n dp-1-682\n"})}),"\n",(0,t.jsx)(s.p,{children:"Use for port-forward local 5432 port to remote in cluster port 5432."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"kubectl port-forward  -n dp-1-682 release-name-postgresql-0 5432:5432\n"})}),"\n",(0,t.jsx)(s.p,{children:"After this use any postgresql client to connect:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"psql -U user -p 5432 -h localhost -d database\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"check connection",src:n(4440).A+"",width:"1915",height:"875"})}),"\n",(0,t.jsx)(s.admonition,{title:"Production usage",type:"info",children:(0,t.jsx)(s.p,{children:"It is a basic helm chart deployment example. For production usage we recommend to read more about helm chart, software that you trying to deploy and configure backups."})})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},4440:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/check-connection-37a406f496b018df9443d2639a5b098b.png"},9211:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/helm-app-b2ed8c4da05ea4788bb64e66142ff01c.png"},880:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/namespace-6f73a41858a69cddcaf12b374c0e0083.png"},211:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/passwod-ui-5e50198e77cfdf2402ae48fcaf61d0d0.png"},843:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/password-into-baeb89dcc81caa8645cd473dc1f2397a.png"},3342:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/postgresql-helm-chart-62c91effc8d0aa220a82f31daf27e5f0.png"},6039:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/postgresql-helm-chart2-1c0c79295d8712d6606b1fc6c186c9a6.png"},9716:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/postgresql-vars-4865085f24493b549cb1457fd5d9211f.png"},8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>c});var t=n(6540);const a={},i=t.createContext(a);function r(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);